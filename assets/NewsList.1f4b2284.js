import{i as L,f as M,g as N,s as d,r as g,o as r,c as u,b as e,d as i,H as p,I as T,F as h,a as b,t as B,Q as U,J as j,R as F,K as S,e as _,m as z,w as x,n as H,h as R,l as m}from"./index.ecfbfd60.js";import{_ as E}from"./CustomTable.8bf6c760.js";const P={class:"flex my-6 space-x-4 items-center justify-start border p-2 rounded-lg bg-white"},$={method:"GET",class:"flex gap-3"},q={class:"relative text-gray-600 focus-within:text-gray-400"},G={class:"absolute inset-y-0 left-0 flex items-center pl-2"},I={class:"p-1 focus:outline-none focus:shadow-outline"},J={class:"flex gap-3 items-center ml-4"},K={class:"form-control"},Q={class:"label cursor-pointer space-x-1"},A={class:"label-text text-[15px]"},O=["value","checked"],W={class:"flex gap-3 border-l"},X={class:"form-control ml-2 pl-2"},Y={class:"label cursor-pointer space-x-1"},Z=e("span",{class:"label-text text-[15px]"},"featured",-1),ee={class:"flex gap-3 border-l"},te={class:"form-control ml-2 pl-2 border-gray-300"},se={class:"label cursor-pointer space-x-1"},ae=e("span",{class:"label-text text-[15px]"},"Show",-1),oe=e("option",null,"5",-1),le=e("option",null,"10",-1),ne=e("option",null,"20",-1),re=e("option",null,"50",-1),ie=e("option",null,"100",-1),ce=[oe,le,ne,re,ie],de=e("span",{class:"label-text text-[15px]"},"entries",-1),ue={class:"flex gap-3"},pe={class:"form-control ml-2 pl-2 border-gray-300 align-items-center justify-center"},_e=["onClick"],he=m(" Filter "),xe=["onClick"],me=m(" edit "),ge=m(" view public "),be={class:"flex justify-center mt-5 pb-5"},ve={class:"relative z-0 inline-flex items-center justify-center rounded-md shadow-sm -space-x-px","aria-label":"Pagination"},fe=["disabled","onClick","innerHTML"],Ce={__name:"NewsList",setup(ye){const v=L(),f=["all","active","inactive"],y=[{key:"headline",label:"headline",sortDirection:"ascending",rowClass:"text-[16px] text-slate-600 max-w-[350px] truncate hover:overflow-visible hover:whitespace-normal cursor-pointer ",headerClass:"text-[20px]"},{key:"posted_at",label:"date publish",sortDirection:"ascending",rowClass:"text-[14px] text-slate-600"},{key:"status",label:"status",rowClass:"text-[14px] text-slate-600",sortDirection:"ascending"}],t=M({pageCount:5,featured:!1,status:"all",search:""}),c=N(()=>d.state.articles.list);d.dispatch("articles/getList",{article_type_id:1,pageCount:5});const w=o=>{console.log(o),v.push({name:"UpdateNews",params:{id:o.id}})},k=(o,a,n)=>{o.preventDefault(),!(!a.url||a.active)&&d.dispatch("articles/getList",{url:a.url,article_type_id:1,pageCount:t.value.pageCount,featured:t.value.featured,status:t.value.status,search:t.value.search})},C=o=>{console.log(t.value),o.preventDefault(),d.dispatch("articles/getList",{article_type_id:1,pageCount:t.value.pageCount,featured:t.value.featured,status:t.value.status,search:t.value.search})};return(o,a)=>{const n=g("mdicon"),D=g("router-link");return r(),u(h,null,[e("div",P,[e("form",$,[e("div",q,[e("span",G,[e("span",I,[i(n,{name:"magnify"})])]),p(e("input",{type:"search",name:"q","onUpdate:modelValue":a[0]||(a[0]=s=>t.value.search=s),class:"w-[300px] py-2 bg-gray-200 rounded-md pl-10 focus:outline-none focus:bg-white text-[15px]",placeholder:"Search for headline",autocomplete:"off"},null,512),[[T,t.value.search]])]),e("div",J,[(r(),u(h,null,b(f,s=>e("div",K,[e("label",Q,[e("span",A,B(s),1),p(e("input",{type:"radio",name:"status",class:"radio radio-sm checked:bg-slate-700","onUpdate:modelValue":a[1]||(a[1]=l=>t.value.status=l),value:s,checked:s=="all"},null,8,O),[[U,t.value.status]])])])),64))]),e("div",W,[e("div",X,[e("label",Y,[Z,p(e("input",{type:"checkbox",class:"checkbox checkbox-sm dark:orange-600",name:"featured","onUpdate:modelValue":a[2]||(a[2]=s=>t.value.featured=s)},null,512),[[j,t.value.featured]])])])]),e("div",ee,[e("div",te,[e("label",se,[ae,p(e("select",{class:"select select-bordered select-xs","onUpdate:modelValue":a[3]||(a[3]=s=>t.value.pageCount=s)},ce,512),[[F,t.value.pageCount]]),de])])]),e("div",ue,[e("div",pe,[e("button",{class:"btn btn-sm gap-2",onClick:S(C,["prevent"])},[i(n,{name:"filter-multiple-outline"}),he],8,_e)])])])]),e("div",null,[_(c).loading?R("",!0):(r(),z(E,{key:0,headers:y,rows:_(c).data},{actionButtons:x(s=>[e("button",{onClick:l=>w(s.rowData),class:"text-orange-500 underline gap-1 btn btn-link btn-xs text-[12px]"},[i(n,{name:"text-box-edit"}),me],8,xe),i(D,{to:{name:"ViewNews",params:{slug:s.rowData.slug}},class:"text-blue-500 underline gap-1 btn btn-link btn-xs text-[12px]",target:"_blank"},{default:x(()=>[i(n,{name:"eye"}),ge]),_:2},1032,["to"])]),pagination:x(()=>[e("div",be,[e("nav",ve,[(r(!0),u(h,null,b(_(c).links,(s,l)=>(r(),u("a",{key:l,disabled:!s.url,href:"#",onClick:V=>k(V,s),"aria-current":"page",class:H(["relative inline-flex items-center px-4 py-2 border text-xs font-medium whitespace-nowrap hover:bg-slate-400 hover:border-slate-400 hover:text-slate-50",[s.active?"z-10 bg-slate-400 border-slate-400 text-slate-50":"bg-white border-gray-300 text-gray-500 hover:bg-gray-50",l===0?"rounded-l-md bg-gray-100 hover:bg-gray-100 hover:border-gray-300 hover:text-gray-500":"",l===_(c).links.length-1?"rounded-r-md":""]]),innerHTML:s.label},null,10,fe))),128))])])]),_:1},8,["rows"]))])],64)}}};export{Ce as default};
