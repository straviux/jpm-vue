import{f as v,u as b,E as w,s as l,r as p,o as d,c,b as e,t as k,e as o,d as _,w as I,G as r,H as h,I as C,J as S,K as j,l as g}from"./index.bc589cc5.js";const B={class:"mt-5 md:col-span-2 md:mt-0 max-w-7xl mx-auto"},D=["onSubmit"],G={class:"shadow sm:overflow-hidden sm:rounded-md"},M={class:"space-y-10 bg-white sm:p-6"},N={class:"flex justify-between"},U={class:"text-xl uppercase mb-2"},V=g("Cancel"),J=e("label",{class:"block font-medium text-gray-700"},"Gallery Image",-1),A={class:"mt-2 flex justify-center rounded-md border-2 border-dashed border-gray-300 px-6 pt-5 pb-6"},F={class:"space-y-1 text-center"},H={key:0,class:"mx-auto h-12 w-12 text-gray-400",stroke:"currentColor",fill:"none",viewBox:"0 0 48 48","aria-hidden":"true"},L=e("path",{d:"M28 8H12a4 4 0 00-4 4v20m32-12v8m0 0v8a4 4 0 01-4 4H12a4 4 0 01-4-4v-4m32-4l-3.172-3.172a4 4 0 00-5.656 0L28 28M8 32l9.172-9.172a4 4 0 015.656 0L28 28m0 0l4 4m4-24h8m-4-4v8m-12 4h.02","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},null,-1),R=[L],T=["src"],E={class:"flex items-center justify-center text-gray-600"},O={for:"file-upload",class:"relative cursor-pointer rounded bg-white font-medium text-indigo-600 focus-within:outline-none focus-within:ring-2 focus-within:ring-indigo-500 focus-within:ring-offset-2 hover:text-indigo-500 px-3"},P=e("span",null,"Upload Image",-1),z=e("p",{class:"text-xs text-gray-500"},"PNG, JPG, GIF up to 10MB",-1),K={class:"grid grid-cols-3 gap-6"},q={class:"col-span-12"},Q=e("label",{for:"headline",class:"block font-medium text-gray-700"},"Caption",-1),W={class:"mt-4 flex shadow-sm"},X={class:"grid grid-cols-3 gap-6"},Y={class:"col-span-12"},Z=e("label",{for:"headline",class:"block font-medium text-gray-700"},"Description",-1),$={class:"mt-4 flex shadow-sm"},ee={class:"px-4 py-3 sm:px-6 flex items-center justify-center space-x-7"},te={class:"form-control"},se={class:"label cursor-pointer space-x-2"},oe=e("span",{class:"label-text text-lg"},"Active",-1),ae={class:"px-4 py-3 text-right sm:px-6"},ne={type:"submit",class:"btn lg:btn-wide bg-blue-500 text-white gap-1 uppercase shadow mt-4 rounded-[4px] btn-success"},ie=g(" Save "),ce={__name:"Form",setup(le){let t=v({status:!1,caption:"",description:"",image_url:"",image:""}),m="created";const u=b();w(()=>l.state.gallery.current.data,(a,s)=>{t.value={...JSON.parse(JSON.stringify(a))},console.log(a)}),u.params.id&&(l.dispatch("gallery/getById",u.params.id),m="updated");const f=()=>{l.dispatch("gallery/saveImage",t.value).then(({data:a})=>{l.commit("notify",{type:"success",message:"Data was successfully "+m})}).catch(a=>{l.commit("notify",{type:"error",message:"Something went wrong, please try again or contact your admin"})})},x=a=>{const s=a.target.files[0],n=new FileReader;n.onload=()=>{t.value.image=n.result,t.value.image_url=n.result},n.readAsDataURL(s),console.log(t.value)};return(a,s)=>{const n=p("router-link"),y=p("mdicon");return d(),c("div",B,[e("form",{onSubmit:S(f,["prevent"]),class:"animate-fade-in-down animation",style:j({animationDelay:"0.5s"})},[e("div",G,[e("div",M,[e("div",N,[e("h1",U,k(o(t).id?"Update Image":"Add Image"),1),_(n,{to:{name:"GalleryTable"},class:"underline text-blue-800"},{default:I(()=>[V]),_:1})]),e("div",null,[J,e("div",A,[e("div",F,[o(t).image_url?(d(),c("img",{key:1,src:o(t).image_url,alt:"carousel","w-64":"","h-48":"","object-cover":"",class:"mb-8"},null,8,T)):(d(),c("svg",H,R)),e("div",E,[e("label",O,[P,e("input",{id:"file-upload",name:"file-upload",type:"file",class:"sr-only",onChange:x},null,32)])]),z])])]),e("div",K,[e("div",q,[Q,e("div",W,[r(e("input",{"onUpdate:modelValue":s[0]||(s[0]=i=>o(t).caption=i),type:"text",name:"headline",id:"headline",class:"input block w-full flex-1 rounded-sm border-gray-300 focus:border-transparent focus:ring-none sm:text-sm"},null,512),[[h,o(t).caption]])])])]),e("div",X,[e("div",Y,[Z,e("div",$,[r(e("input",{"onUpdate:modelValue":s[1]||(s[1]=i=>o(t).description=i),type:"text",name:"headline",id:"headline",class:"input block w-full flex-1 rounded-sm border-gray-300 focus:border-transparent focus:ring-none sm:text-sm"},null,512),[[h,o(t).description]])])])]),e("div",ee,[e("div",te,[e("label",se,[oe,r(e("input",{type:"checkbox",class:"checkbox checkbox-primary","onUpdate:modelValue":s[2]||(s[2]=i=>o(t).status=i)},null,512),[[C,o(t).status]])])])]),e("div",ae,[e("button",ne,[_(y,{name:"content-save"}),ie])])])])],44,D)])}}};export{ce as default};
