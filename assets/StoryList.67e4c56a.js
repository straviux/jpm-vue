import{i as L,f as V,g as M,s as i,r as b,o as c,c as d,b as e,d as n,H as u,I as T,F as _,a as g,t as U,Q as j,J as B,R as F,K as N,w as h,n as z,e as x,l as m}from"./index.ca95d000.js";import{_ as H}from"./CustomTable.e301aec0.js";const R={class:"flex my-6 space-x-4 items-center justify-start border p-2 rounded-lg bg-white"},E={method:"GET",class:"flex gap-3"},P={class:"relative text-gray-600 focus-within:text-gray-400"},$={class:"absolute inset-y-0 left-0 flex items-center pl-2"},q={class:"p-1 focus:outline-none focus:shadow-outline"},G={class:"flex gap-3 items-center ml-4"},I={class:"form-control"},J={class:"label cursor-pointer space-x-1"},K={class:"label-text text-[15px]"},Q=["value","checked"],A={class:"flex gap-3 border-l"},O={class:"form-control ml-2 pl-2"},W={class:"label cursor-pointer space-x-1"},X=e("span",{class:"label-text text-[15px]"},"featured",-1),Y={class:"flex gap-3 border-l"},Z={class:"form-control ml-2 pl-2 border-gray-300"},ee={class:"label cursor-pointer space-x-1"},te=e("span",{class:"label-text text-[15px]"},"Show",-1),se=e("option",null,"5",-1),oe=e("option",null,"10",-1),ae=e("option",null,"20",-1),le=e("option",null,"50",-1),ne=e("option",null,"100",-1),re=[se,oe,ae,le,ne],ie=e("span",{class:"label-text text-[15px]"},"entries",-1),ce={class:"flex gap-3"},de={class:"form-control ml-2 pl-2 border-gray-300 align-items-center justify-center"},ue=["onClick"],pe=m(" Filter "),_e=["onClick"],he=m(" edit "),xe=m(" view public "),me={class:"flex justify-center mt-5 pb-5"},be={class:"relative z-0 inline-flex items-center justify-center rounded-md shadow-sm -space-x-px","aria-label":"Pagination"},ge=["disabled","onClick","innerHTML"],we={__name:"StoryList",setup(ve){const v=L(),f=["all","active","inactive"],y=[{key:"headline",label:"title",sortDirection:"ascending",rowClass:"text-[16px] text-slate-600 max-w-[350px] truncate hover:overflow-visible hover:whitespace-normal cursor-pointer ",headerClass:"text-[20px]"},{key:"posted_at",label:"date publish",sortDirection:"ascending",rowClass:"text-[14px] text-slate-600"},{key:"status",label:"status",rowClass:"text-[14px] text-slate-600",sortDirection:"ascending"}],s=V({pageCount:5,featured:!1,status:"all",search:""}),p=M(()=>i.state.storyList);i.dispatch("getStoryList",{article_type_id:2,pageCount:5});const w=a=>{console.log(a),v.push({name:"UpdateNews",params:{id:a.id}})},k=(a,o,r)=>{a.preventDefault(),!(!o.url||o.active)&&i.dispatch("getStoryList",{url:o.url})},C=a=>{console.log(s.value),a.preventDefault(),i.dispatch("getStoryList",{article_type_id:2,pageCount:s.value.pageCount,featured:s.value.featured,status:s.value.status,search:s.value.search})};return(a,o)=>{const r=b("mdicon"),D=b("router-link");return c(),d(_,null,[e("div",R,[e("form",E,[e("div",P,[e("span",$,[e("span",q,[n(r,{name:"magnify"})])]),u(e("input",{type:"search",name:"q","onUpdate:modelValue":o[0]||(o[0]=t=>s.value.search=t),class:"w-[300px] py-2 bg-gray-200 rounded-md pl-10 focus:outline-none focus:bg-white text-[15px]",placeholder:"Search for title",autocomplete:"off"},null,512),[[T,s.value.search]])]),e("div",G,[(c(),d(_,null,g(f,t=>e("div",I,[e("label",J,[e("span",K,U(t),1),u(e("input",{type:"radio",name:"status",class:"radio radio-sm checked:bg-slate-700","onUpdate:modelValue":o[1]||(o[1]=l=>s.value.status=l),value:t,checked:t=="all"},null,8,Q),[[j,s.value.status]])])])),64))]),e("div",A,[e("div",O,[e("label",W,[X,u(e("input",{type:"checkbox",class:"checkbox checkbox-sm dark:orange-600",name:"featured","onUpdate:modelValue":o[2]||(o[2]=t=>s.value.featured=t)},null,512),[[B,s.value.featured]])])])]),e("div",Y,[e("div",Z,[e("label",ee,[te,u(e("select",{class:"select select-bordered select-xs","onUpdate:modelValue":o[3]||(o[3]=t=>s.value.pageCount=t)},re,512),[[F,s.value.pageCount]]),ie])])]),e("div",ce,[e("div",de,[e("button",{class:"btn btn-sm gap-2",onClick:N(C,["prevent"])},[n(r,{name:"filter-multiple-outline"}),pe],8,ue)])])])]),e("div",null,[n(H,{headers:y,rows:x(p).data},{actionButtons:h(t=>[e("button",{onClick:l=>w(t.rowData),class:"text-orange-500 underline gap-1 btn btn-link btn-xs text-[12px]"},[n(r,{name:"text-box-edit"}),he],8,_e),n(D,{to:{name:"ViewStory",params:{slug:t.rowData.slug}},class:"text-blue-500 underline gap-1 btn btn-link btn-xs text-[12px]",target:"_blank"},{default:h(()=>[n(r,{name:"eye"}),xe]),_:2},1032,["to"])]),pagination:h(()=>[e("div",me,[e("nav",be,[(c(!0),d(_,null,g(x(p).links,(t,l)=>(c(),d("a",{key:l,disabled:!t.url,href:"#",onClick:S=>k(S,t),"aria-current":"page",class:z(["relative inline-flex items-center px-4 py-2 border text-xs font-medium whitespace-nowrap hover:bg-slate-400 hover:border-slate-400 hover:text-slate-50",[t.active?"z-10 bg-slate-400 border-slate-400 text-slate-50":"bg-white border-gray-300 text-gray-500 hover:bg-gray-50",l===0?"rounded-l-md bg-gray-100 hover:bg-gray-100 hover:border-gray-300 hover:text-gray-500":"",l===x(p).links.length-1?"rounded-r-md":""]]),innerHTML:t.label},null,10,ge))),128))])])]),_:1},8,["rows"])])],64)}}};export{we as default};
