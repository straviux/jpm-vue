import{i as L,f as V,g as M,s as i,r as g,o as c,c as d,b as e,d as n,H as u,I as T,F as _,a as b,t as U,Q as j,J as B,R as F,K as S,w as h,n as z,e as x,l as m}from"./index.ca95d000.js";import{_ as H}from"./CustomTable.e301aec0.js";const R={class:"flex my-6 space-x-4 items-center justify-start border p-2 rounded-lg bg-white"},E={method:"GET",class:"flex gap-3"},P={class:"relative text-gray-600 focus-within:text-gray-400"},$={class:"absolute inset-y-0 left-0 flex items-center pl-2"},q={class:"p-1 focus:outline-none focus:shadow-outline"},G={class:"flex gap-3 items-center ml-4"},I={class:"form-control"},J={class:"label cursor-pointer space-x-1"},K={class:"label-text text-[15px]"},Q=["value","checked"],A={class:"flex gap-3 border-l"},O={class:"form-control ml-2 pl-2"},W={class:"label cursor-pointer space-x-1"},X=e("span",{class:"label-text text-[15px]"},"featured",-1),Y={class:"flex gap-3 border-l"},Z={class:"form-control ml-2 pl-2 border-gray-300"},ee={class:"label cursor-pointer space-x-1"},te=e("span",{class:"label-text text-[15px]"},"Show",-1),se=e("option",null,"5",-1),ae=e("option",null,"10",-1),oe=e("option",null,"20",-1),le=e("option",null,"50",-1),ne=e("option",null,"100",-1),re=[se,ae,oe,le,ne],ie=e("span",{class:"label-text text-[15px]"},"entries",-1),ce={class:"flex gap-3"},de={class:"form-control ml-2 pl-2 border-gray-300 align-items-center justify-center"},ue=["onClick"],pe=m(" Filter "),_e=["onClick"],he=m(" edit "),xe=m(" view public "),me={class:"flex justify-center mt-5 pb-5"},ge={class:"relative z-0 inline-flex items-center justify-center rounded-md shadow-sm -space-x-px","aria-label":"Pagination"},be=["disabled","onClick","innerHTML"],ye={__name:"NewsList",setup(ve){const v=L(),f=["all","active","inactive"],w=[{key:"headline",label:"headline",sortDirection:"ascending",rowClass:"text-[16px] text-slate-600 max-w-[350px] truncate hover:overflow-visible hover:whitespace-normal cursor-pointer ",headerClass:"text-[20px]"},{key:"posted_at",label:"date publish",sortDirection:"ascending",rowClass:"text-[14px] text-slate-600"},{key:"status",label:"status",rowClass:"text-[14px] text-slate-600",sortDirection:"ascending"}],t=V({pageCount:5,featured:!1,status:"all",search:""}),p=M(()=>i.state.newsList);i.dispatch("getNewsList",{article_type_id:1,pageCount:5});const y=o=>{console.log(o),v.push({name:"UpdateNews",params:{id:o.id}})},k=(o,a,r)=>{o.preventDefault(),!(!a.url||a.active)&&i.dispatch("getNewsList",{url:a.url,article_type_id:1,pageCount:t.value.pageCount,featured:t.value.featured,status:t.value.status,search:t.value.search})},C=o=>{console.log(t.value),o.preventDefault(),i.dispatch("getNewsList",{article_type_id:1,pageCount:t.value.pageCount,featured:t.value.featured,status:t.value.status,search:t.value.search})};return(o,a)=>{const r=g("mdicon"),D=g("router-link");return c(),d(_,null,[e("div",R,[e("form",E,[e("div",P,[e("span",$,[e("span",q,[n(r,{name:"magnify"})])]),u(e("input",{type:"search",name:"q","onUpdate:modelValue":a[0]||(a[0]=s=>t.value.search=s),class:"w-[300px] py-2 bg-gray-200 rounded-md pl-10 focus:outline-none focus:bg-white text-[15px]",placeholder:"Search for headline",autocomplete:"off"},null,512),[[T,t.value.search]])]),e("div",G,[(c(),d(_,null,b(f,s=>e("div",I,[e("label",J,[e("span",K,U(s),1),u(e("input",{type:"radio",name:"status",class:"radio radio-sm checked:bg-slate-700","onUpdate:modelValue":a[1]||(a[1]=l=>t.value.status=l),value:s,checked:s=="all"},null,8,Q),[[j,t.value.status]])])])),64))]),e("div",A,[e("div",O,[e("label",W,[X,u(e("input",{type:"checkbox",class:"checkbox checkbox-sm dark:orange-600",name:"featured","onUpdate:modelValue":a[2]||(a[2]=s=>t.value.featured=s)},null,512),[[B,t.value.featured]])])])]),e("div",Y,[e("div",Z,[e("label",ee,[te,u(e("select",{class:"select select-bordered select-xs","onUpdate:modelValue":a[3]||(a[3]=s=>t.value.pageCount=s)},re,512),[[F,t.value.pageCount]]),ie])])]),e("div",ce,[e("div",de,[e("button",{class:"btn btn-sm gap-2",onClick:S(C,["prevent"])},[n(r,{name:"filter-multiple-outline"}),pe],8,ue)])])])]),e("div",null,[n(H,{headers:w,rows:x(p).data},{actionButtons:h(s=>[e("button",{onClick:l=>y(s.rowData),class:"text-orange-500 underline gap-1 btn btn-link btn-xs text-[12px]"},[n(r,{name:"text-box-edit"}),he],8,_e),n(D,{to:{name:"ViewNews",params:{slug:s.rowData.slug}},class:"text-blue-500 underline gap-1 btn btn-link btn-xs text-[12px]",target:"_blank"},{default:h(()=>[n(r,{name:"eye"}),xe]),_:2},1032,["to"])]),pagination:h(()=>[e("div",me,[e("nav",ge,[(c(!0),d(_,null,b(x(p).links,(s,l)=>(c(),d("a",{key:l,disabled:!s.url,href:"#",onClick:N=>k(N,s),"aria-current":"page",class:z(["relative inline-flex items-center px-4 py-2 border text-xs font-medium whitespace-nowrap hover:bg-slate-400 hover:border-slate-400 hover:text-slate-50",[s.active?"z-10 bg-slate-400 border-slate-400 text-slate-50":"bg-white border-gray-300 text-gray-500 hover:bg-gray-50",l===0?"rounded-l-md bg-gray-100 hover:bg-gray-100 hover:border-gray-300 hover:text-gray-500":"",l===x(p).links.length-1?"rounded-r-md":""]]),innerHTML:s.label},null,10,be))),128))])])]),_:1},8,["rows"])])],64)}}};export{ye as default};
