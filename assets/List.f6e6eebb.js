import{i as N,u as T,f as S,g as U,s as d,r as b,o as r,c as u,b as e,d as i,z as p,A as j,F as x,a as f,t as z,M as F,B as y,x as R,e as _,m as q,w as m,n as A,h as E,l as v,q as H}from"./index.4e7dc012.js";import{_ as P}from"./CustomTable.0dc77a45.js";const $={class:"flex my-6 space-x-4 items-center justify-start border p-2 rounded-lg bg-white"},G={method:"GET",class:"flex gap-3"},I={class:"relative text-gray-600 focus-within:text-gray-400"},J={class:"absolute inset-y-0 left-0 flex items-center pl-2"},K={class:"p-1 focus:outline-none focus:shadow-outline"},O={class:"flex gap-3 items-center ml-4"},Q={class:"form-control"},W={class:"label cursor-pointer space-x-1"},X={class:"label-text text-[15px]"},Y=["value","checked"],Z={class:"flex gap-3 border-l"},ee={class:"form-control ml-2 pl-2"},te={class:"label cursor-pointer space-x-1"},se=e("span",{class:"label-text text-[15px]"},"show featured",-1),ae=e("option",{value:"all"},"all",-1),oe=e("option",{value:"yes"},"yes",-1),le=e("option",{value:"no"},"no",-1),ne=[ae,oe,le],re={class:"flex gap-3 border-l"},ie={class:"form-control ml-2 pl-2 border-gray-300"},ce={class:"label cursor-pointer space-x-1"},de=e("span",{class:"label-text text-[15px]"},"Show",-1),ue=H('<option value="5">5</option><option value="10">10</option><option value="20">20</option><option value="50">50</option><option value="100">100</option>',5),pe=[ue],_e=e("span",{class:"label-text text-[15px]"},"entries",-1),he={class:"flex gap-3"},xe={class:"form-control ml-2 pl-2 border-gray-300 align-items-center justify-center"},me=["onClick"],ve=v(" Filter "),ge=["onClick"],be=v(" edit "),fe=v(" view public "),ye={class:"flex justify-center mt-5 pb-5"},we={class:"relative z-0 inline-flex items-center justify-center rounded-md shadow-sm -space-x-px","aria-label":"Pagination"},Ce=["disabled","onClick","innerHTML"],Le={__name:"List",setup(ke){const w=N(),g=T(),h=g.params.type=="news"?1:g.params.type=="stories"?2:0,C=["all","active","inactive"],k=[{key:"headline",label:"headline",sortDirection:"ascending",rowClass:"text-[16px] text-slate-600 max-w-[350px] truncate hover:overflow-visible hover:whitespace-normal cursor-pointer ",headerClass:"text-[20px]"},{key:"posted_at",label:"date publish",sortDirection:"ascending",rowClass:"text-[14px] text-slate-600"},{key:"status",label:"status",rowClass:"text-[14px] text-slate-600",sortDirection:"ascending"},{key:"featured",label:"featured",sortDirection:"ascending",rowClass:"text-[14px] text-slate-600"}],t=S({pageCount:20,featured:"all",status:"all",search:""}),c=U(()=>d.state.articles.list);d.dispatch("articles/getList",{article_type_id:h,pageCount:20});const D=o=>{console.log(o),w.push({name:"UpdateArticle",params:{id:o.id}})},V=(o,a,n)=>{o.preventDefault(),!(!a.url||a.active)&&d.dispatch("articles/getList",{url:a.url,article_type_id:h,pageCount:t.value.pageCount,featured:t.value.featured,status:t.value.status,search:t.value.search})},L=o=>{console.log(t.value),o.preventDefault(),d.dispatch("articles/getList",{article_type_id:h,pageCount:t.value.pageCount,featured:t.value.featured,status:t.value.status,search:t.value.search})};return(o,a)=>{const n=b("mdicon"),M=b("router-link");return r(),u(x,null,[e("div",$,[e("form",G,[e("div",I,[e("span",J,[e("span",K,[i(n,{name:"magnify"})])]),p(e("input",{type:"search",name:"q","onUpdate:modelValue":a[0]||(a[0]=s=>t.value.search=s),class:"w-[300px] py-2 bg-gray-200 rounded-md pl-10 focus:outline-none focus:bg-white text-[15px]",placeholder:"Search for headline",autocomplete:"off"},null,512),[[j,t.value.search]])]),e("div",O,[(r(),u(x,null,f(C,s=>e("div",Q,[e("label",W,[e("span",X,z(s),1),p(e("input",{type:"radio",name:"status",class:"radio radio-sm checked:bg-slate-700","onUpdate:modelValue":a[1]||(a[1]=l=>t.value.status=l),value:s,checked:s=="all"},null,8,Y),[[F,t.value.status]])])])),64))]),e("div",Z,[e("div",ee,[e("label",te,[se,p(e("select",{class:"select select-bordered select-xs","onUpdate:modelValue":a[2]||(a[2]=s=>t.value.featured=s)},ne,512),[[y,t.value.featured]])])])]),e("div",re,[e("div",ie,[e("label",ce,[de,p(e("select",{class:"select select-bordered select-xs","onUpdate:modelValue":a[3]||(a[3]=s=>t.value.pageCount=s)},pe,512),[[y,t.value.pageCount]]),_e])])]),e("div",he,[e("div",xe,[e("button",{class:"btn btn-sm gap-2",onClick:R(L,["prevent"])},[i(n,{name:"filter-multiple-outline"}),ve],8,me)])])])]),e("div",null,[_(c).loading?E("",!0):(r(),q(P,{key:0,headers:k,rows:_(c).data},{actionButtons:m(s=>[e("button",{onClick:l=>D(s.rowData),class:"text-orange-500 underline gap-1 btn btn-link btn-xs text-[12px]"},[i(n,{name:"text-box-edit"}),be],8,ge),i(M,{to:{name:"ViewNews",params:{slug:s.rowData.slug}},class:"text-blue-500 underline gap-1 btn btn-link btn-xs text-[12px]",target:"_blank"},{default:m(()=>[i(n,{name:"eye"}),fe]),_:2},1032,["to"])]),pagination:m(()=>[e("div",ye,[e("nav",we,[(r(!0),u(x,null,f(_(c).links,(s,l)=>(r(),u("a",{key:l,disabled:!s.url,href:"#",onClick:B=>V(B,s),"aria-current":"page",class:A(["relative inline-flex items-center px-4 py-2 border text-xs font-medium whitespace-nowrap hover:bg-slate-400 hover:border-slate-400 hover:text-slate-50",[s.active?"z-10 bg-slate-400 border-slate-400 text-slate-50":"bg-white border-gray-300 text-gray-500 hover:bg-gray-50",l===0?"rounded-l-md bg-gray-100 hover:bg-gray-100 hover:border-gray-300 hover:text-gray-500":"",l===_(c).links.length-1?"rounded-r-md":""]]),innerHTML:s.label},null,10,Ce))),128))])])]),_:1},8,["rows"]))])],64)}}};export{Le as default};
